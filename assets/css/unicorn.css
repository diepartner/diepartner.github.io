/* unicorn.css
   Small kawaii/chibi unicorn (data-URI) replacing previous larger SVG.
   Preserves animation, wake, and reduced-motion handling.
*/

:root{
  --surf-duration: 6.5s;
  --surf-delay: 0s;
  --surf-scale: 0.98;
  --unicorn-width: 220px;
  --unicorn-height: 150px;
  --unicorn-bottom: 9vh;
}

/* Primary decorative unicorn as a background image on :root::after */
:root::after{
  content: "";
  position: fixed;
  bottom: var(--unicorn-bottom);
  left: 0;
  width: var(--unicorn-width);
  height: var(--unicorn-height);
  pointer-events: none;
  z-index: 9999;
  transform: translateX(-300px) scale(0.8);
  opacity: 0;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 220 220' preserveAspectRatio='xMidYMid meet'>\
  <defs>\
    <linearGradient id='gHorn' x1='0' x2='1'><stop offset='0' stop-color='%23fff9e6'/><stop offset='1' stop-color='%23ffd27a'/></linearGradient>\
    <linearGradient id='gBody' x1='0' x2='1'><stop offset='0' stop-color='%23ffffff'/><stop offset='1' stop-color='%23f2f2f6'/></linearGradient>\
    <filter id='soft' x='-50%' y='-50%' width='200%' height='200%'><feGaussianBlur stdDeviation='1.5' result='b'/><feMerge><feMergeNode in='b'/><feMergeNode in='SourceGraphic'/></feMerge></filter>\
  </defs>\
  <!-- shadow -->\
  <ellipse cx='110' cy='200' rx='60' ry='8' fill='%23000000' opacity='0.06'/>\
  <!-- rump -->\
  <ellipse cx='154' cy='118' rx='28' ry='22' fill='%23ffffff' stroke='%23e6e6e6' stroke-width='1'/>\
  <!-- body -->\
  <path d='M66 96 C56 94,44 84,48 74 C52 62,68 54,90 50 C118 46,142 54,164 62 C190 72,206 88,196 100 C180 116,150 110,120 114 C98 116,80 118,66 116 C56 114,46 110,40 104 Z' fill='url(%23gBody)' stroke='%23ececf0' stroke-width='1'/>\
  <!-- belly shading -->\
  <path d='M100 104 C88 100,82 92,90 82 C100 70,118 66,136 70 C156 74,174 82,188 92 C166 98,142 96,120 98 C104 100,92 100,84 98 Z' fill='%23f7f7fb' opacity='0.95'/>\
  <!-- neck & head group -->\
  <g transform='translate(10,0)'>\
    <!-- head -->\
    <circle cx='70' cy='56' r='34' fill='%23ffffff' stroke='%23e9e9ef' stroke-width='1.2'/>\
    <!-- ear -->\
    <path d='M58 30 C56 22,64 18,74 20 C80 22,82 28,76 34 C68 36,62 34,58 30 Z' fill='%23fff3f8' stroke='%23f0e9f0' stroke-width='0.8'/>\
    <!-- horn -->\
    <g transform='translate(84,8) rotate(-12)'>\
      <path d='M0 0 L8 -36 L16 0 Z' fill='url(%23gHorn)' stroke='%23f7e6fb' stroke-width='0.8'/>\
      <path d='M8 -6 L7 -2 M8 -14 L6 -6 M8 -22 L5 -10' stroke='%23f6c3e8' stroke-width='0.9' stroke-linecap='round'/>\
    </g>\
    <!-- forelock/mane pieces -->\
    <path d='M58 44 C52 50,40 66,30 86' stroke='%23ff9bd6' stroke-width='10' stroke-linecap='round' fill='none'/>\
    <path d='M64 48 C60 60,50 78,42 100' stroke='%23ffd27a' stroke-width='8' stroke-linecap='round' fill='none'/>\
    <path d='M72 52 C68 66,60 86,54 110' stroke='%239be6ff' stroke-width='7' stroke-linecap='round' fill='none'/>\
    <path d='M80 56 C78 74,70 98,64 126' stroke='%23c1a0ff' stroke-width='6' stroke-linecap='round' fill='none'/>\
    <!-- eye -->\
    <ellipse cx='78' cy='62' rx='6' ry='5' fill='%231b1b1b'/>\
    <circle cx='75' cy='59' r='2.2' fill='%23fff' opacity='0.95'/>\
    <circle cx='81' cy='64' r='1.4' fill='%23fff' opacity='0.9'/>\
    <!-- cheek -->\
    <circle cx='92' cy='76' r='6' fill='%23ffb6d9' opacity='0.95'/>\
    <!-- muzzle -->\
    <path d='M92 84 C96 86,102 86,110 84 C112 82,114 78,114 74 C114 70,112 68,108 66 C102 64,96 66,92 70 C90 72,90 76,92 84 Z' fill='%23fffdfd' stroke='%23efeef3' stroke-width='0.6'/>\
  </g>\
  <!-- legs -->\
  <rect x='74' y='138' width='12' height='28' rx='4' fill='%23ffffff' stroke='%23e6e6e6'/>\
  <rect x='110' y='132' width='12' height='34' rx='4' fill='%23ffffff' stroke='%23e6e6e6'/>\
  <ellipse cx='120' cy='166' rx='8' ry='4' fill='%23e0e0e5'/>\
  <ellipse cx='80' cy='166' rx='8' ry='4' fill='%23e0e0e5'/>\
  <!-- tail -->\
  <g transform='translate(170,120) rotate(12)'>\
    <path d='M0 0 C-10 -8,-24 -20,-44 -36' stroke='%23ff9bd6' stroke-width='8' stroke-linecap='round' fill='none'/>\
    <path d='M2 4 C-8 -6,-22 -22,-44 -42' stroke='%23ffd27a' stroke-width='7' stroke-linecap='round' fill='none'/>\
    <path d='M6 8 C-6 -4,-18 -18,-40 -40' stroke='%239be6ff' stroke-width='6' stroke-linecap='round' fill='none'/>\
  </g>\
  <!-- small sparkles -->\
  <circle cx='40' cy='28' r='3.2' fill='%23fff6d1' opacity='0.95'/>\
  <rect x='34' y='12' width='4.4' height='18' rx='1' transform='rotate(18 36 21)' fill='%23fff6d1' opacity='0.45'/>\
</svg>");
  background-repeat: no-repeat;
  background-size: contain;
  background-position: center;
  will-change: transform, opacity, filter;
  animation:
    surf-in 900ms cubic-bezier(.22,.9,.3,1) forwards,
    surf-move var(--surf-duration) ease-in-out var(--surf-delay) infinite alternate;
  filter: drop-shadow(0 6px 10px rgba(0,0,0,0.08));
}

/* Entrance and motion keyframes */
@keyframes surf-in{
  from{ transform: translateX(-300px) translateY(30px) scale(.5); opacity:0; filter: blur(6px) opacity(0.6); }
  to  { transform: translateX(0) translateY(0) scale(var(--surf-scale)); opacity:1; filter: none; }
}

@keyframes surf-move{
  0%   { transform: translateX(0)   scale(var(--surf-scale)) rotate(-5deg); }
  18%  { transform: translateX(12vw) scale(calc(var(--surf-scale)*1.02)) rotate(-1deg); }
  36%  { transform: translateX(28vw) scale(calc(var(--surf-scale)*1.03)) rotate(1deg); }
  54%  { transform: translateX(46vw) scale(calc(var(--surf-scale)*1.02)) rotate(3deg); }
  72%  { transform: translateX(68vw) scale(var(--surf-scale)) rotate(-1deg); }
  100% { transform: translateX(92vw) scale(var(--surf-scale)) rotate(-6deg); }
}

/* Colorful wake under unicorn via :root::before (slightly bigger, layered) */
:root::before{
  content: "";
  position: fixed;
  bottom: calc(var(--unicorn-bottom) - 12px);
  left: 0;
  width: calc(var(--unicorn-width) * 1.25);
  height: 22px;
  pointer-events: none;
  z-index: 9998;
  transform: translateX(-300px) scaleX(0.95);
  opacity: 0;
  background: linear-gradient(90deg,#ffd580 0%,#ff9aa2 28%,#ff6b6b 42%,#9ad3ff 62%,#6bb0ff 72%,#c38cff 90%);
  border-radius: 999px;
  filter: blur(6px) saturate(120%);
  mix-blend-mode: screen;
  will-change: transform, opacity, filter;
  animation:
    surf-in-wake 900ms cubic-bezier(.22,.9,.3,1) forwards,
    wake-move calc(var(--surf-duration) * 0.98) ease-in-out var(--surf-delay) infinite alternate;
  opacity: 0.92;
}

/* wake entrance aligns with unicorn */
@keyframes surf-in-wake{
  from{ transform: translateX(-300px) translateY(12px) scale(.5); opacity:0; filter: blur(8px); }
  to  { transform: translateX(0) translateY(0) scale(1); opacity:0.95; filter: none; }
}

/* wake movement follows similar rhythm but slightly offset */
@keyframes wake-move{
  0%   { transform: translateX(0) scaleX(0.95); opacity:0.85; }
  50%  { transform: translateX(46vw) scaleX(1.02) translateY(-6px); opacity:1; }
  100% { transform: translateX(92vw) scaleX(0.95); opacity:0.85; }
}

/* subtle shimmer/pulse to give life */
@keyframes shimmer {
  0% { filter: hue-rotate(0deg) saturate(100%); }
  50% { filter: hue-rotate(6deg) saturate(112%); }
  100% { filter: hue-rotate(0deg) saturate(100%); }
}
:root::after { animation: surf-in 900ms cubic-bezier(.22,.9,.3,1) forwards, surf-move var(--surf-duration) ease-in-out var(--surf-delay) infinite alternate, shimmer 10s ease-in-out 2s infinite; }

/* Respect reduced motion: simplify to a static decorative placement */
@media (prefers-reduced-motion: reduce) {
  :root::after,
  :root::before {
    animation: none !important;
    transform: translateX(6vw) scale(0.95) !important;
    opacity: 1 !important;
    filter: none !important;
  }
}
